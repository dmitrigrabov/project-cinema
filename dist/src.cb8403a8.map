{"version":3,"sources":["index.js"],"names":["displaySearchDataOnPage","searchResultsArr","mainNode","innerHTML","numberOfResults","totalResults","searchArr","Search","forEach","content","createContentOverview","displayErrorToUser","error","document","querySelector","className","overviewMarkUp","Poster","Title","Year","imdbID","contentOverviewNode","createElement","appendChild","fetchContentDetails","then","hoverMarkUp","contentBody","Ratings","Value","Runtime","hoverDetailsNode","detailsMarkUp","console","log","Rated","contentDetailsNode","contentImdbID","result","fetch","response","json","body","fetchAPI","fetchURL","catch","createSearchParameters","searchInput","searchURL","buildURL","param","omdbURL","apiKey","searchSubmit","addEventListener","searchEvent","preventDefault","value"],"mappings":"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","file":"src.cb8403a8.map","sourceRoot":"../src","sourcesContent":["// Breaking out API object to display\nfunction displaySearchDataOnPage(searchResultsArr) {\n  //console.log(searchResultsArr);\n  mainNode.innerHTML = \"\";\n  const numberOfResults = searchResultsArr.totalResults;\n  const searchArr = searchResultsArr.Search;\n  searchArr.forEach(function(content) {\n    //console.log(content);\n    createContentOverview(content);\n  });\n}\n// Show if error with API call\nfunction displayErrorToUser(error) {}\n\n//nodes we are listening out for\nconst mainNode = document.querySelector(\"main\");\n\n//Create the search previews Poster + Title + Year + Try to pull in rating\nfunction createContentOverview(content, className = \"content-overview\") {\n  const overviewMarkUp = `\n      <a href=\"\">\n        <img src=${content.Poster} alt=\"${content.Title} class=\"parent-img\">\n      </a>\n        <h4>${content.Title}</h4>\n        <p>${content.Year}</p>\n        <p>IMDB: ${content.imdbID}</p>\n  `;\n  const contentOverviewNode = document.createElement(\"div\");\n  contentOverviewNode.innerHTML = overviewMarkUp;\n  contentOverviewNode.className = className;\n\n  mainNode.appendChild(contentOverviewNode);\n\n  //pull in content data for on hover information\n  fetchContentDetails(content).then(contentBody => {\n    const hoverMarkUp = `\n          <p>Save</p>\n          <p>Watched</p>\n          <p>${contentBody.Ratings.Value}</p>\n          <p>${contentBody.Runtime}</p>\n    `;\n    const hoverDetailsNode = document.createElement(\"div\");\n    hoverDetailsNode.innerHTML = detailsMarkUp;\n    hoverDetailsNode.className = \"hover-details\";\n    console.log(hoverMarkUp);\n    mainNode.appendChild(hoverDetailsNode);\n\n    //// Create content details and append it to main class\n    const detailsMarkUp = `\n\n          <img src=${contentBody.Poster} alt=\"${\n      contentBody.Title\n    } class=\"parent-img\">\n\n          <h4>${contentBody.Title}</h4>\n          <p>${contentBody.Year}</p>\n          <p>${contentBody.Rated}</p>\n          <p>${contentBody.Runtime}</p>\n\n          <button class=\"play-button\"></button>\n          <button class=\"watch-trailer-button\"></button>\n\n          <p>Watched</p>\n          <p>Save</p>\n    `;\n    const contentDetailsNode = document.createElement(\"div\");\n    contentDetailsNode.innerHTML = detailsMarkUp;\n    contentDetailsNode.className = \"content-details\";\n    console.log(detailsMarkUp);\n\n    mainNode.appendChild(contentDetailsNode);\n  });\n  // // NEW BODY DETAILS FROM CONTENT\n\n  // //create details node\n}\n\n//fecth the content details from search\nfunction fetchContentDetails(content) {\n  //fetch extra movie data using imdbNumber\n  const contentImdbID = content.imdbID;\n  let result = fetch(\n    `http://www.omdbapi.com/?i=${contentImdbID}&apikey=edd66bb`\n  )\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(body) {\n      //console.log(body);\n      return body;\n    });\n  //result = body;\n  return result;\n}\n\n///Main fetch function\nconst fetchAPI = function(fetchURL) {\n  fetch(fetchURL)\n    .then(function(response) {\n      return response.json();\n    })\n    .then(function(body) {\n      //console.log(body);\n      displaySearchDataOnPage(body);\n    })\n    .catch(function(error) {\n      displayErrorToUser(error);\n    });\n};\n\n// create search parameters to put into movie database\nfunction createSearchParameters(searchInput) {\n  //console.log(searchInput);\n  const searchURL = `s=${searchInput}`;\n\n  return buildURL(searchURL);\n}\n\n// function createContentParameters(imdbNumber) {\n//   const contentURL = `i=${imdbNumber}`;\n//\n//   buildURL(contentURL);\n// }\n\nconst buildURL = function(param) {\n  //Build my api string\n  const omdbURL = \"http://www.omdbapi.com/?\";\n  const apiKey = \"&apikey=edd66bb\";\n  const fetchURL = `${omdbURL}${param}${apiKey}`;\n  fetchAPI(fetchURL);\n};\n\n//Search feature\nconst searchSubmit = document.querySelector(\"form\");\n\nsearchSubmit.addEventListener(\"submit\", function(searchEvent) {\n  searchEvent.preventDefault();\n  //console.log(searchEvent.target);\n  let searchInput = document.querySelector(\".search__input\");\n  //console.log(searchInput.value);\n  createSearchParameters(searchInput.value);\n});\n\n//click on content Poster to reveal details\n\n// function findCurrentDate() {\n//   let currentTime = new Date();\n//   let currentYear = currentTime.getFullYear();\n//   // Calling load of api for first time\n//   createSearchParameters(currentYear);\n// }\n\n// Find currentYear to load Api with up to date movies\n//findCurrentDate();\ncreateSearchParameters(\"hangover\");\n"]}